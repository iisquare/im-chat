# im-chat feature

- im-node
  - 通过ServerAPI短连接获取Token及服务节点拓扑
  - 初始化，配置监听回调，允许自定义消息类型
  - 连接成功后，获取联系人列表及未读消息数
  - 点击联系人进入会话列表，分页拉取当前会话的历史消息，并清空当前未读消息计数
  - 在消息接收回调中，更新联系人列表和未读消息计数，若消息为当前会话内容，则手动写入消息列表
  - sdk层和service层回调隔离，当消息体为sync时，sdk自动拉取增量，并循环触发service层的消息接收回调
